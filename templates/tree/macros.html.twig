{% macro category_tree(tree) %}

    {% import _self as self %}

    {% for leaf in tree.children %}
        <li>
            <a href="{{ path('tree-show', {'id': leaf.id}) }}" id="{{ leaf.id }}" onclick="moveElements({{ leaf.id }})">{{ leaf.name }}</a>
            {% if leaf.children.count > 0 %}
                <ul>
                    {{ self.category_tree(leaf) }}
                </ul>
            {% endif %}
        </li>
    {% endfor %}
{% endmacro %}